setwd("/Volumes/PROJECTS/Ongoing/MMAR/MMAR GitHub/Study/Data")
write.csv(dMrAB, file = "./Preregistered/dMrAB.csv", row.names = NULL)
write.csv(dMrAB, file = "./Preregistered/dMrAB.csv", row.names = FALSE)
write.csv(dMrAB, file = "./Preregistered/MrAB.csv", row.names = FALSE)
write.csv(dGame, file = "./Preregistered/Game.csv", row.names = FALSE)
write.csv(dDrink, file = "./Preregistered/Drink.csv", row.names = FALSE)
write.csv(dJacket, file = "./Preregistered/Jacket.csv", row.names = FALSE)
write.csv(dPlay, file = "./Preregistered/Play.csv", row.names = FALSE)
write.csv(dGym, file = "./Preregistered/Gym.csv", row.names = FALSE)
write.csv(dPlane, file = "./Preregistered/Plane.csv", row.names = FALSE)
dMrAB$condition
table(dMrAB$condition)
dMrAB <- data_MrAB %>% filter(response!=2) %>%
filter(scenario_group=="gain") %>%
# EXCLUSION: Full Exclusion
filter( !(Country %in% countries2remove) ) %>%
filter( attention_check_grater_than_3 )
table(dMrAB$condition)
table(dMrAB$scenario)
dMrAB <- data_MrAB %>% filter(response!=2) %>%
# filter(scenario_group=="gain") %>%
# EXCLUSION: Full Exclusion
filter( !(Country %in% countries2remove) ) %>%
filter( attention_check_grater_than_3 ) %>%
# mutate(scenario=factor(scenario, levels = c("gain-loss VS gain", "gain-gain VS gain") )) %>%
select(subject, Gender, Age, Income, Education, Country, FinancialLiteracy,
condition=scenario, response)
table(dMrAB$condition)
dMrAB <- data_MrAB %>% filter(response!=2) %>%
# filter(scenario_group=="gain") %>%
# EXCLUSION: Full Exclusion
filter( !(Country %in% countries2remove) ) %>%
filter( attention_check_grater_than_3 ) %>%
# mutate(scenario=factor(scenario, levels = c("gain-loss VS gain", "gain-gain VS gain") )) %>%
select(subject, Gender, Age, Income, Education, Country, FinancialLiteracy,
condition=scenario, response)
# ---------------------- Mr. A vs Mr. B ---------------------- #
dMrAB <- data_MrAB %>% filter(response!=2) %>%
# filter(scenario_group=="gain") %>%
# EXCLUSION: Full Exclusion
filter( !(Country %in% countries2remove) ) %>%
filter( attention_check_grater_than_3 ) %>%
# mutate(scenario=factor(scenario, levels = c("gain-loss VS gain", "gain-gain VS gain") )) %>%
select(subject, Gender, Age, Income, Education, Country, FinancialLiteracy,
condition=scenario, response)
write.csv(dMrAB, file = "./Preregistered/MrAB.csv", row.names = FALSE)
table(dGame$condition)
table(dDrink$condition)
table(dJacket$condition)
table(dPlay$condition)
table(dGym$condition)
table(dPlane$condition)
data_MrAB %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
group_by(Country) %>%
mutate(N=n()) %>%
group_by(Country, Age) %>%
summarise(fqFinLit = n()/N) %>% ungroup()
# Load libraries
library(dplyr); library(purrr); library(stringr)
library(ggplot2); library(ggpubr); library(jcolors)
library(cowplot); library(ggprism); library(tidybayes)
library(reshape2); library(parallel); library(rstan)
library(brms)
library(plotly)
# Run first chunk
lazyLoad("index_cache/html/Code-to-load-data-and-libraries_fdfddf6fbc1f4f007cbfc5779e882289")
data_MrAB %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
group_by(Country) %>%
mutate(N=n()) %>%
group_by(Country, Age) %>%
summarise(fqFinLit = n()/N) %>% ungroup()
data_MrAB %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
group_by(Country) %>%
mutate(N=n())
data_MrAB %>%
group_by(Country, subject) %>%
filter(row_number()==1)
data_MrAB %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
select(Age)
library(ggbeeswarm)
install.packages("ggbeeswarm")
library(ggbeeswarm)
data_MrAB %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
select(Age) %>%
ggplot(aes(Country, Age, color=Country)) +
geom_beeswarm(cex = 3) +
theme_bw()
data_MrAB %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
select(Age)
str(data_MrAB %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
select(Age))
data_MrAB %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
select(Age) %>%
ungroup() %>%
mutate(Age=as.numeric(Age))
data_MrAB %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
select(Age) %>%
ungroup() %>%
mutate(Age=as.numeric(Age)) %>%
ggplot(aes(Country, Age, color=Country)) +
geom_beeswarm(cex = 3) +
theme_bw()
data_MrAB %>%
filter(Country=='Austria') %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
select(Age) %>%
ungroup() %>%
mutate(Age=as.numeric(Age)) %>%
ggplot(aes(Country, Age, color=Country)) +
geom_beeswarm(cex = 3) +
theme_bw()
data_MrAB %>%
filter(Country=='Austria') %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
select(Age) %>%
ungroup() %>%
mutate(Age=as.numeric(Age)) %>%
ggplot(aes(Country, Age, color=Country)) +
geom_boxplot(cex = 3) +
theme_bw()
data_MrAB %>%
# filter(Country=='Austria') %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
select(Age) %>%
ungroup() %>%
mutate(Age=as.numeric(Age)) %>%
ggplot(aes(Country, Age, color=Country)) +
geom_boxplot(cex = 3) +
theme_bw()
data_MrAB %>%
# filter(Country=='Austria') %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
select(Age) %>%
ungroup() %>%
mutate(Age=as.numeric(Age)) %>%
filter(Age>0 & Age<99) %>%
ggplot(aes(Country, Age, color=Country)) +
geom_boxplot(cex = 3) +
theme_bw()
data_MrAB %>%
# filter(Country=='Austria') %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
select(Age) %>%
ungroup() %>%
mutate(Age=as.numeric(Age)) %>%
filter(Age>0 & Age<99) %>%
ggplot(aes(Country, Age, color=Country)) +
geom_boxplot() +
theme_bw()
data_MrAB %>%
# filter(Country=='Austria') %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
select(Age) %>%
ungroup() %>%
mutate(Age=as.numeric(Age)) %>%
filter(Age>0 & Age<99) %>%
ggplot(aes(Age, Country, color=Country)) +
geom_boxplot() +
theme_bw()
data_MrAB %>%
# filter(Country=='Austria') %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
select(Age) %>%
ungroup() %>%
mutate(Age=as.numeric(Age)) %>%
filter(Age>0 & Age<99) %>%
ggplot(aes(Age, Country, color=Country)) +
geom_boxplot() +
theme_pubr() +
guides(size = "none") +
theme(text = element_text(size = 15),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 15),
legend.position = "none")
data_MrAB %>%
# filter(Country=='Austria') %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
select(Age) %>%
ungroup() %>%
mutate(Age=as.numeric(Age)) %>%
filter(Age>0 & Age<99) %>%
ggplot(aes(Age, Country, color=Country)) +
geom_boxplot() +
theme_pubr() +
guides(size = "none") +
theme(text = element_text(size = 15),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 15),
legend.position = "none") +
scale_color_manual(values = viridis::viridis_pal()(nCountries))
nCountries <- 21
data_MrAB %>%
# filter(Country=='Austria') %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
select(Age) %>%
ungroup() %>%
mutate(Age=as.numeric(Age)) %>%
filter(Age>0 & Age<99) %>%
ggplot(aes(Age, Country, color=Country)) +
geom_boxplot() +
theme_pubr() +
guides(size = "none") +
theme(text = element_text(size = 15),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 15),
legend.position = "none") +
scale_color_manual(values = viridis::viridis_pal()(nCountries))
data_MrAB %>%
# filter(Country=='Austria') %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
select(Age) %>%
ungroup() %>%
mutate(Age=as.numeric(Age)) %>%
filter(Age>0 & Age<99) %>%
ggplot(aes(Age, Country, color=Country)) +
geom_boxplot() +
theme_pubr() +
guides(size = "none") +
theme(text = element_text(size = 15),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 15),
legend.position = "none")
data_MrAB %>% filter(response!=2) %>%
filter(scenario_group=="gain") %>%
# EXCLUSION: Full Exclusion
filter( !(Country %in% countries2remove) ) %>%
filter( attention_check_grater_than_3 ) %>%
# filter(Country=='Austria') %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
select(Age) %>%
ungroup() %>%
mutate(Age=as.numeric(Age)) %>%
filter(Age>0 & Age<99) %>%
ggplot(aes(Age, Country, color=Country)) +
geom_boxplot() +
theme_pubr() +
guides(size = "none") +
theme(text = element_text(size = 15),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 15),
legend.position = "none") +
scale_color_manual(values = viridis::viridis_pal()(nCountries))
data_MrAB %>% filter(response!=2) %>%
filter(scenario_group=="gain") %>%
# EXCLUSION: Full Exclusion
filter( !(Country %in% countries2remove) ) %>%
filter( attention_check_grater_than_3 ) %>%
# filter(Country=='Austria') %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
select(Gender)
data_MrAB %>% filter(response!=2) %>%
filter(scenario_group=="gain") %>%
# EXCLUSION: Full Exclusion
filter( !(Country %in% countries2remove) ) %>%
filter( attention_check_grater_than_3 ) %>%
# filter(Country=='Austria') %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
# select(Gender) %>%
ungroup() %>%
mutate(Age=as.numeric(Age)) %>%
filter(Age>0 & Age<99) %>%
filter(Gender!="Prefer not to say")
data_MrAB %>% filter(response!=2) %>%
filter(scenario_group=="gain") %>%
# EXCLUSION: Full Exclusion
filter( !(Country %in% countries2remove) ) %>%
filter( attention_check_grater_than_3 ) %>%
# filter(Country=='Austria') %>%
group_by(Country, subject) %>%
filter(row_number()==1)
data_MrAB %>% filter(response!=2) %>%
filter(scenario_group=="gain") %>%
# EXCLUSION: Full Exclusion
filter( !(Country %in% countries2remove) ) %>%
filter( attention_check_grater_than_3 ) %>%
# filter(Country=='Austria') %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
# select(Gender) %>%
ungroup() %>%
mutate(Age=as.numeric(Age))
data_MrAB %>% filter(response!=2) %>%
filter(scenario_group=="gain") %>%
# EXCLUSION: Full Exclusion
filter( !(Country %in% countries2remove) ) %>%
filter( attention_check_grater_than_3 ) %>%
# filter(Country=='Austria') %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
# select(Gender) %>%
ungroup() %>%
mutate(Age=as.numeric(Age)) %>%
filter(Age>0 & Age<99) %>%
filter(Gender!="Prefer not to say")
data_MrAB %>% filter(response!=2) %>%
filter(scenario_group=="gain") %>%
# EXCLUSION: Full Exclusion
filter( !(Country %in% countries2remove) ) %>%
filter( attention_check_grater_than_3 ) %>%
# filter(Country=='Austria') %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
# select(Gender) %>%
ungroup() %>%
mutate(Age=as.numeric(Age)) %>%
filter(Age>0 & Age<99) %>%
filter(Gender!="Prefer not to say") %>%
group_by(Country) %>%
summarise(pMale = mean(ifelse(Gender=='Male', 1, 0)))
data_MrAB %>% filter(response!=2) %>%
filter(scenario_group=="gain") %>%
# EXCLUSION: Full Exclusion
filter( !(Country %in% countries2remove) ) %>%
filter( attention_check_grater_than_3 ) %>%
# filter(Country=='Austria') %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
# select(Gender) %>%
ungroup() %>%
mutate(Age=as.numeric(Age)) %>%
filter(Age>0 & Age<99) %>%
filter(Gender!="Prefer not to say") %>%
group_by(Country) %>%
summarise(pMale = mean(ifelse(Gender=='Male', 1, 0))) %>%
ggplot(aes(Country, pMale, color=Country)) +
geom_point() +
theme_pubr() +
guides(size = "none") +
theme(text = element_text(size = 15),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 15),
legend.position = "none") +
scale_color_manual(values = viridis::viridis_pal()(nCountries))
data_MrAB %>% filter(response!=2) %>%
filter(scenario_group=="gain") %>%
# EXCLUSION: Full Exclusion
filter( !(Country %in% countries2remove) ) %>%
filter( attention_check_grater_than_3 ) %>%
# filter(Country=='Austria') %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
# select(Gender) %>%
ungroup() %>%
mutate(Age=as.numeric(Age)) %>%
filter(Age>0 & Age<99) %>%
filter(Gender!="Prefer not to say") %>%
group_by(Country) %>%
summarise(pMale = mean(ifelse(Gender=='Male', 1, 0))) %>%
ggplot(aes(Country, pMale, color=Country)) +
geom_bar() +
theme_pubr() +
guides(size = "none") +
theme(text = element_text(size = 15),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 15),
legend.position = "none") +
scale_color_manual(values = viridis::viridis_pal()(nCountries))
data_MrAB %>% filter(response!=2) %>%
filter(scenario_group=="gain") %>%
# EXCLUSION: Full Exclusion
filter( !(Country %in% countries2remove) ) %>%
filter( attention_check_grater_than_3 ) %>%
# filter(Country=='Austria') %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
# select(Gender) %>%
ungroup() %>%
mutate(Age=as.numeric(Age)) %>%
filter(Age>0 & Age<99) %>%
filter(Gender!="Prefer not to say") %>%
group_by(Country) %>%
summarise(pMale = mean(ifelse(Gender=='Male', 1, 0))) %>%
ggplot(aes(Country, pMale, color=Country)) +
geom_bar(stat = "identity") +
theme_pubr() +
guides(size = "none") +
theme(text = element_text(size = 15),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 15),
legend.position = "none") +
scale_color_manual(values = viridis::viridis_pal()(nCountries))
data_MrAB %>% filter(response!=2) %>%
filter(scenario_group=="gain") %>%
# EXCLUSION: Full Exclusion
filter( !(Country %in% countries2remove) ) %>%
filter( attention_check_grater_than_3 ) %>%
# filter(Country=='Austria') %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
# select(Gender) %>%
ungroup() %>%
mutate(Age=as.numeric(Age)) %>%
filter(Age>0 & Age<99) %>%
filter(Gender!="Prefer not to say") %>%
group_by(Country) %>%
summarise(pMale = mean(ifelse(Gender=='Male', 1, 0))) %>%
ggplot(aes(Country, pMale, fill=Country)) +
geom_bar(stat = "identity") +
theme_pubr() +
guides(size = "none") +
theme(text = element_text(size = 15),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 15),
legend.position = "none") +
scale_color_manual(values = viridis::viridis_pal()(nCountries))
data_MrAB %>% filter(response!=2) %>%
filter(scenario_group=="gain") %>%
# EXCLUSION: Full Exclusion
filter( !(Country %in% countries2remove) ) %>%
filter( attention_check_grater_than_3 ) %>%
# filter(Country=='Austria') %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
# select(Gender) %>%
ungroup() %>%
mutate(Age=as.numeric(Age)) %>%
filter(Age>0 & Age<99) %>%
filter(Gender!="Prefer not to say") %>%
group_by(Country) %>%
summarise(pMale = mean(ifelse(Gender=='Male', 1, 0))) %>%
ggplot(aes(Country, pMale, fill=Country)) +
geom_bar(stat = "identity") +
theme_pubr() +
guides(size = "none") +
theme(text = element_text(size = 15),
axis.text.x = element_blank(),
axis.text.y = element_text(size = 15),
legend.position = "none") +
scale_fill_manual(values = viridis::viridis_pal()(nCountries))
data_MrAB %>% filter(response!=2) %>%
filter(scenario_group=="gain") %>%
# EXCLUSION: Full Exclusion
filter( !(Country %in% countries2remove) ) %>%
filter( attention_check_grater_than_3 ) %>%
# filter(Country=='Austria') %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
# select(Gender) %>%
ungroup() %>%
mutate(Age=as.numeric(Age)) %>%
filter(Age>0 & Age<99) %>%
filter(Gender!="Prefer not to say") %>%
group_by(Country) %>%
summarise(pMale = mean(ifelse(Gender=='Male', 1, 0))) %>%
ggplot(aes(pMale, Country, fill=Country)) +
geom_bar(stat = "identity") +
theme_pubr() +
guides(size = "none") +
theme(text = element_text(size = 15),
axis.text.y = element_text(size = 15),
legend.position = "none") +
scale_fill_manual(values = viridis::viridis_pal()(nCountries))
data_MrAB %>% filter(response!=2) %>%
filter(scenario_group=="gain") %>%
# EXCLUSION: Full Exclusion
filter( !(Country %in% countries2remove) ) %>%
filter( attention_check_grater_than_3 ) %>%
# filter(Country=='Austria') %>%
group_by(Country, subject) %>%
filter(row_number()==1) %>%
# select(Gender) %>%
ungroup() %>%
mutate(Age=as.numeric(Age)) %>%
filter(Age>0 & Age<99) %>%
filter(Gender!="Prefer not to say") %>%
group_by(Country) %>%
summarise(pMale = mean(ifelse(Gender=='Male', 1, 0))) %>%
ggplot(aes(pMale, Country, fill=Country)) +
geom_bar(stat = "identity") +
theme_pubr() +
guides(size = "none") +
theme(text = element_text(size = 15),
axis.text.y = element_text(size = 15),
legend.position = "none") +
scale_fill_manual(values = viridis::viridis_pal()(nCountries)) +
labs(y="Proportion of Male")
data_MrAB %>% filter(response!=2) %>%
filter(scenario_group=="gain") %>%
# EXCLUSION: Full Exclusion
filter( !(Country %in% countries2remove) ) %>%
filter( attention_check_grater_than_3 )
